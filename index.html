



<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.js"></script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.css">

	
	<script >
      google.charts.load('current', {'packages':['bar']});
      google.charts.setOnLoadCallback(drawChart);




	 var Truck_data = [

	 
		{

		
		
		date: "15/12/19",
		details:[
			{
			driver_name: "ram",
			truck_number: "KA 03 2132", 
			distance_travelled: 50,
			orders_delivered: 45,
			orders_missed: 10},
			{ 
			driver_name: "raju",
			truck_number: "KA 03 2354", 
			distance_travelled: 30,
			orders_delivered: 15,
			orders_missed: 1},
			{ 
			driver_name: "john",
			truck_number: "KA 03 7676", 
			distance_travelled: 70,
			orders_delivered: 32,
			orders_missed: 43},
			{
			driver_name: "sam",
			truck_number: "KA 03 3645", 
			distance_travelled: 56,
			orders_delivered: 11,
			orders_missed: 07},
			{ 
			driver_name: "tre",
			truck_number: "KA 03 9867", 
			distance_travelled: 58,
			orders_delivered: 32,
			orders_missed: 11},
			{
			driver_name: "abrggdc",
			truck_number: "KA 03 0989", 
			distance_travelled: 50,
			orders_delivered: 45,
			orders_missed: 10},
			{ 
			driver_name: "afgdgbc",
			truck_number: "KA 03 7777", 
			distance_travelled: 45,
			orders_delivered: 35,
			orders_missed: 16}
		]
			},

		{

			

		date: "12/12/19",
		details:[
			{
			driver_name: "ram",
			truck_number: "KA 03 2132", 
			distance_travelled: 50,
			orders_delivered: 65,
			orders_missed: 20},
			{ 
			driver_name: "raju",
			truck_number: "KA 03 2354", 
			distance_travelled: 30,
			orders_delivered: 65,
			orders_missed: 34},
			{ 
			driver_name: "john",
			truck_number: "KA 03 7676", 
			distance_travelled: 70,
			orders_delivered: 39,
			orders_missed: 4},
			{
			driver_name: "sam",
			truck_number: "KA 03 3645", 
			distance_travelled: 56,
			orders_delivered: 52,
			orders_missed: 42},
			{ 
			driver_name: "tre",
			truck_number: "KA 03 9867", 
			distance_travelled: 58,
			orders_delivered: 32,
			orders_missed: 11},
			{
			driver_name: "abrggdc",
			truck_number: "KA 03 0989", 
			distance_travelled: 50,
			orders_delivered: 45,
			orders_missed: 10},
			{ 
			driver_name: "afgdgbc",
			truck_number: "KA 03 7777", 
			distance_travelled: 45,
			orders_delivered: 35,
			orders_missed: 16}
		]
		
		}


	];

	function PopulateData(j)
{

	for(var i=0;i<Truck_data[j].details.length;i++)
	{
		var array = [Truck_data[j].details[i].truck_number,Truck_data[j].details[i].orders_missed, Truck_data[j].details[i].orders_delivered + Truck_data[j].details[i].orders_missed];
		TruckOrder.push(array);
	}
}

	var ChoosenDate;
	$('#datetimepicker1').on('dp.change', function() {
	ChoosenDate = $('#datetimepicker1 input').val();
	
	for(var i=0;i<Truck_data.length;i++){

	
	if(ChoosenDate == Truck_data[i].date){
		PopulateData(i);

	}

	}
  })

var TruckOrder = [['Truck', 'Orders Missed', 'Total Orders']];




console.log(TruckOrder);

      function drawChart() {
        var data = google.visualization.arrayToDataTable(TruckOrder);

        var options = {

			//isStacked: 'percent',
			isStacked: true,
			legend: { position: 'down' },
          chart: {
			title: 'Total Orders vs Missed',
            //subtitle: 'Sales, Expenses, and Profit: 2014-2017',
          },
          bars: 'vertical' // Required for Material Bar Charts.
        };

        var chart = new google.charts.Bar(document.getElementById('barchart_material'));

        chart.draw(data, google.charts.Bar.convertOptions(options));
	  }
	  
	  $(document).ready(function(){
			$("p").click(function(){
				$("p").hide();
			});

			
	  });

	 

	//   $(document).ready(function(){
	// 			$("#barchart_material").dblclick(function(){
	// 				alert("Abundance alert!!!")
	// 			});
	// 		});

    </script>
  </head>
  <body>
	
	<div class="container">
		<div class="row">
			<div class='col-sm-6'>
				<div class="form-group">
					<div class='input-group date' id='datetimepicker1'>
						<input type='text' class="form-control" />
						<span class="input-group-addon">
							<span class="glyphicon glyphicon-calendar"></span>
						</span>
					</div>
				</div>
			</div>
			
		</div>
	</div>
	
	<div id="barchart_material" style="width: 900px; height: 500px;"></div>
	
	

	<script type="text/javascript">
		 $(function () {
					$('#datetimepicker1').datetimepicker();
				});		


  
	</script>
  </body>
</html>

